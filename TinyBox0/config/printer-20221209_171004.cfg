[include shell_command.cfg]
[include CONFIG/*.cfg]
[include MACROS/*.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32g0b1xx_m8p-if00

#[mcu mcu_seed]
#serial: /dev/serial/by-id/usb-Klipper_samd21g18a_DC765F7D3934555020312E392E1D10FF-if00

[idle_timeout]
gcode:
  {% if printer.pause_resume.is_paused %}
  M117 Idle, turning off hotend
  SET_HEATER_TEMPERATURE HEATER=extruder TARGET=0
  {% else %}
  PRINTER_IDLE
  {% endif %}
timeout: 3600

[exclude_object]

[gcode_macro PRINTER_IDLE]
gcode:
    TURN_OFF_HEATERS
    LIGHTS_NIGHT
    M104 S0
    #TURN_OFF_LIGHTS
    #TURN_OFF_FANS
    #SET_PIN PIN=HTR_MAIN VALUE=0
    SET_GCODE_VARIABLE MACRO=GLOBAL_VARS VARIABLE=ishomed VALUE=0
    SET_GCODE_VARIABLE MACRO=GLOBAL_VARS VARIABLE=wiperhomed VALUE=0
    M84

[virtual_sdcard]
path: /home/biqu/printer_data/gcodes

[respond]
default_type: echo

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE9, EXP1_2=PE10,
    EXP1_3=PE11, EXP1_4=PE12,
    EXP1_5=PE13, EXP1_6=PE14,    # Slot in the socket on this side
    EXP1_7=PE15, EXP1_8=PB10,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PB14, EXP2_2=PB13,
    EXP2_3=PF7, EXP2_4=PB12,
    EXP2_5=PE7, EXP2_6=PB11,      # Slot in the socket on this side
    EXP2_7=PE8, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PC5

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [probe]
#*# z_offset = 1.355
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.134018, -0.096443, -0.058868
#*# 	  -0.002505, 0.016282, 0.037575
#*# 	  0.118987, 0.121492, 0.127755
#*# tension = 0.2
#*# min_x = 20.0
#*# algo = lagrange
#*# y_count = 3
#*# mesh_y_pps = 2
#*# min_y = 10.0
#*# x_count = 3
#*# max_y = 90.0
#*# mesh_x_pps = 2
#*# max_x = 101.0
